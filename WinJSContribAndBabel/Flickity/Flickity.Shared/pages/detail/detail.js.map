{"version":3,"sources":["Flickity/Flickity.Shared/pages/detail/detail.es6.js"],"names":[],"mappings":";;;;;;;AACA,CAAC,YAAY;AACZ,aAAY,CAAC;;KAEP,UAAU;WAAV,UAAU;yBAAV,UAAU;;;eAAV,UAAU;;UACX,cAAC,OAAO,EAAE,OAAO,EAAE;AACtB,QAAI,IAAI,GAAG,IAAI,CAAC;AAChB,QAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;;AAE/B,QAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;AACvF,SAAI,CAAC,aAAa,GAAG,MAAM,CAAC;;AAE5B,YAAO,MAAM,CAAC;KACd,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACpC;;;UAEQ,mBAAC,OAAO,EAAE,OAAO,EAAE;AAC3B,QAAI,IAAI,GAAG,IAAI,CAAC;AAChB,QAAI,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;AACxD,gBAAY,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE;AACzF,SAAI,CAAC,UAAU,CAAC,GAAG,GAAG,MAAM,CAAC;AAC7B,SAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;KACxC,CAAC,CAAC;;AAEH,QAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,MAAM,EAAE;AAC7C,SAAI,CAAC,aAAa,EAAE,CAAC;AACrB,SAAI,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,KAAK,GAAG,EAAE;AAC3C,UAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;MAC7C,MAAM;AACN,UAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;MACrC;AACD,YAAO,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/C,CAAC,CAAC,IAAI,CAAC,YAAY;AACnB,SAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;KACnC,CAAC,CAAC;IACH;;;UAEY,yBAAG;AACf,QAAI,IAAI,GAAG,IAAI,CAAC;AAChB,QAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE;AAC7B,UAAK,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACjE,SAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACxD,UAAI,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,YAAY;AAC9F,YAAK,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;OACrE,CAAC,CAAC;MACH,CAAC,CAAC;KACH;IACD;;;UAEc,yBAAC,GAAG,EAAE,EACpB;;;SA9CI,UAAU;;;AAiDhB,MAAK,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,2BAA2B,EAAE,UAAU,CAAC,CAAC;CAC/D,CAAA,EAAI,CAAC","file":"Flickity/Flickity.Shared/pages/detail/detail.js","sourcesContent":["/// <reference path=\"../../js/_reference.js\" />\r\n(function () {\r\n\t\"use strict\";\r\n\r\n\tclass DetailPage {\r\n\t\tinit(element, options) {\r\n\t\t\tvar ctrl = this;\r\n\t\t\tctrl.picture = options.picture;\r\n\r\n\t\t\tctrl.detailDataPromise = Flickity.Api.detail(options.picture.id).then(function (detail) {\r\n\t\t\t\tctrl.pictureDetail = detail;\r\n\r\n\t\t\t\treturn detail;\r\n\t\t\t}, ctrl.detailLoadError.bind(ctrl));\r\n\t\t}\r\n\r\n\t\tprocessed(element, options) {\r\n\t\t\tvar ctrl = this;\r\n\t\t\tvar picUrl = Flickity.Api.pictureUrl(ctrl.picture, 'b');\r\n\t\t\tWinJSContrib.UI.loadImage(Flickity.Api.pictureUrl(ctrl.picture, 'b')).then(function (arg) {\r\n\t\t\t\tctrl.pictureImg.src = picUrl;\r\n\t\t\t\tctrl.pictureImg.classList.add('loaded');\r\n\t\t\t});\r\n\r\n\t\t\tctrl.detailDataPromise.then(function (detail) {\r\n\t\t\t\tctrl.processDetail();\r\n\t\t\t\tif (detail.photo.comments._content === \"0\") {\r\n\t\t\t\t\tctrl.comments.element.style.display = 'none';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tctrl.comments.picture = ctrl.picture;\r\n\t\t\t\t}\r\n\t\t\t\treturn WinJS.UI.Animation.fadeOut(ctrl.loader);\r\n\t\t\t}).then(function () {\r\n\t\t\t\tctrl.loader.style.display = 'none';\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprocessDetail() {\r\n\t\t\tvar ctrl = this;\r\n\t\t\tif (ctrl.pictureDetail.photo) {\r\n\t\t\t\tWinJS.Binding.processAll(ctrl.element, ctrl.pictureDetail.photo);\r\n\t\t\t\tctrl.pictureDetail.photo.tags.tag.forEach(function (tag) {\r\n\t\t\t\t\tnew WinJSContrib.UI.FluentDOM('SPAN', 'tag', ctrl.tagsList).text(tag._content).tap(function () {\r\n\t\t\t\t\t\tWinJS.Application.queueEvent({ type: 'search', term: tag._content });\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdetailLoadError(err) {\r\n\t\t}\r\n\t}\r\n\r\n\tWinJS.UI.Pages.define(\"/pages/detail/detail.html\", DetailPage);\r\n}) ();\r\n"],"sourceRoot":"/source/"}