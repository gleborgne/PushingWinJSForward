{"version":3,"sources":["detail.es6.js"],"names":[],"mappings":"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","file":"Flickity/Flickity.Shared/pages/detail/detail.js","sourcesContent":["/// <reference path=\"../../js/_reference.js\" />\r\n(function () {\r\n\t\"use strict\";\r\n\r\n\tclass DetailPage {\r\n\t\tconstructor(element, options) {\r\n\t\t\tthis.picture = null;\r\n\t\t\tthis.pictureImg = null;\r\n\t\t\tthis.pictureDetail = null;\r\n\t\t\tthis.tagsList = null;\r\n\t\t\tthis.comments = null;\r\n\t\t}\r\n\r\n\t\tinit(element, options) {\r\n\t\t\tthis.picture = options.picture;\r\n\t\t\t\r\n\t\t\tthis.detailDataPromise = Flickity.Api.detail(options.picture.id).then((detail) => {\r\n\t\t\t\tthis.pictureDetail = detail;\r\n\r\n\t\t\t\treturn detail;\r\n\t\t\t}, this.detailLoadError.bind(this));\r\n\t\t}\r\n\r\n\t\tprocessed(element, options) {\r\n\t\t\tvar picUrl = Flickity.Api.pictureUrl(this.picture, 'b');\r\n\t\t\tWinJSContrib.UI.loadImage(Flickity.Api.pictureUrl(this.picture, 'b')).then((arg) => {\r\n\t\t\t\tthis.pictureImg.src = picUrl;\r\n\t\t\t\tthis.pictureImg.classList.add('loaded');\r\n\t\t\t});\r\n\r\n\t\t\tthis.detailDataPromise.then((detail) => {\r\n\t\t\t\tthis.processDetail();\r\n\t\t\t\tif (detail.photo.comments._content === \"0\") {\r\n\t\t\t\t\tthis.comments.element.style.display = 'none';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.comments.picture = this.picture;\r\n\t\t\t\t}\r\n\t\t\t\treturn WinJS.UI.Animation.fadeOut(this.loader);\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.loader.style.display = 'none';\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprocessDetail() {\r\n\t\t\tif (this.pictureDetail.photo) {\r\n\t\t\t\tWinJS.Binding.processAll(this.element, this.pictureDetail.photo);\r\n\t\t\t\tthis.pictureDetail.photo.tags.tag.forEach((tag) => {\r\n\t\t\t\t\tnew WinJSContrib.UI.FluentDOM('SPAN', 'tag', this.tagsList).text(tag._content).tap(function () {\r\n\t\t\t\t\t\tWinJS.Application.queueEvent({ type: 'search', term: tag._content });\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdetailLoadError(err) {\r\n\t\t}\r\n\t}\r\n\r\n\tWinJS.UI.Pages.define(\"/pages/detail/detail.html\", DetailPage);\r\n}) ();\r\n"],"sourceRoot":" "}